(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[923],{6831:function(e,s,t){Promise.resolve().then(t.bind(t,6379))},2735:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9345:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7684:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},4630:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},3041:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},3247:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6595:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},2489:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});let n=(0,t(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6379:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return z}});var n=t(7437),r=t(6375),a=t(2265),l=t(9820),i=t(2381),c=t(279),o=t(6246),d=t(9174),u=t(5526),m=t(5060),x=t(8420),h=t(2369),f=t(2489),p=t(9345),g=t(3041),v=t(6595),y=t(3774);let j=(0,t(9763).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);function b(e){let{onClose:s,onSuccess:t,customer:r}=e,[o,d]=(0,a.useState)({customer_type:(null==r?void 0:r.customer_type)||"person",email:(null==r?void 0:r.email)||"",first_name:(null==r?void 0:r.first_name)||"",last_name:(null==r?void 0:r.last_name)||"",company_name:(null==r?void 0:r.company_name)||"",phone:(null==r?void 0:r.phone)||"",mobile:(null==r?void 0:r.mobile)||"",salutation:(null==r?void 0:r.salutation)||"",industry:(null==r?void 0:r.industry)||"",customer_status:(null==r?void 0:r.customer_status)||"lead",priority:(null==r?void 0:r.priority)||"normal",notes:(null==r?void 0:r.notes)||"",website:(null==r?void 0:r.website)||"",street:(null==r?void 0:r.street)||"",house_number:(null==r?void 0:r.house_number)||"",postal_code:(null==r?void 0:r.postal_code)||"",city:(null==r?void 0:r.city)||"",country:(null==r?void 0:r.country)||"Deutschland"}),[b,N]=(0,a.useState)(!1),[w,_]=(0,a.useState)(""),k=async e=>{e.preventDefault(),N(!0),_("");try{r?console.log("Update customer not implemented yet"):await (0,u.Sy)(o),t(),s()}catch(e){_(e instanceof Error?e.message:"Ein Fehler ist aufgetreten")}finally{N(!1)}},Z=(e,s)=>{d(t=>({...t,[e]:s}))};return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)(l.Zb,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,n.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[(0,n.jsxs)(l.ll,{className:"flex items-center",children:["company"===o.customer_type?(0,n.jsx)(x.Z,{className:"h-5 w-5 mr-2"}):(0,n.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),r?"Kunde bearbeiten":"Neuen Kunden erstellen"]}),(0,n.jsx)(i.z,{variant:"ghost",size:"sm",onClick:s,children:(0,n.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,n.jsx)("form",{onSubmit:k,children:(0,n.jsxs)(l.aY,{className:"space-y-6",children:[w&&(0,n.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded",children:w}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{children:"Kundentyp *"}),(0,n.jsxs)("select",{value:o.customer_type,onChange:e=>Z("customer_type",e.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,n.jsx)("option",{value:"",children:"Kundentyp ausw\xe4hlen"}),(0,n.jsx)("option",{value:"person",children:"\uD83D\uDC64 Person"}),(0,n.jsx)("option",{value:"company",children:"\uD83C\uDFE2 Unternehmen"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("h3",{className:"text-lg font-medium flex items-center",children:[(0,n.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Grunddaten"]}),"person"===o.customer_type?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-2 gap-3",children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"salutation",children:"Anrede"}),(0,n.jsxs)("select",{value:o.salutation,onChange:e=>Z("salutation",e.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,n.jsx)("option",{value:"",children:"Anrede"}),(0,n.jsx)("option",{value:"Herr",children:"Herr"}),(0,n.jsx)("option",{value:"Frau",children:"Frau"}),(0,n.jsx)("option",{value:"Dr.",children:"Dr."}),(0,n.jsx)("option",{value:"Prof.",children:"Prof."})]})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"first_name",children:"Vorname *"}),(0,n.jsx)(c.I,{id:"first_name",value:o.first_name,onChange:e=>Z("first_name",e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"last_name",children:"Nachname *"}),(0,n.jsx)(c.I,{id:"last_name",value:o.last_name,onChange:e=>Z("last_name",e.target.value),required:!0})]})]})]}):(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"company_name",children:"Firmenname *"}),(0,n.jsx)(c.I,{id:"company_name",value:o.company_name,onChange:e=>Z("company_name",e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"email",children:"E-Mail-Adresse *"}),(0,n.jsx)(c.I,{id:"email",type:"email",value:o.email,onChange:e=>Z("email",e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"industry",children:"Branche"}),(0,n.jsx)(c.I,{id:"industry",value:o.industry,onChange:e=>Z("industry",e.target.value),placeholder:"z.B. IT, Automotive, Marketing"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"website",children:"Website"}),(0,n.jsx)(c.I,{id:"website",type:"url",value:o.website,onChange:e=>Z("website",e.target.value),placeholder:"https://..."})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("h3",{className:"text-lg font-medium flex items-center",children:[(0,n.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"Kontakt & Status"]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"phone",children:"Telefon"}),(0,n.jsx)(c.I,{id:"phone",value:o.phone,onChange:e=>Z("phone",e.target.value),placeholder:"+49 ..."})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"mobile",children:"Mobil"}),(0,n.jsx)(c.I,{id:"mobile",value:o.mobile,onChange:e=>Z("mobile",e.target.value),placeholder:"+49 ..."})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{children:"Kundenstatus"}),(0,n.jsxs)("select",{value:o.customer_status,onChange:e=>Z("customer_status",e.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,n.jsx)("option",{value:"lead",children:"Lead"}),(0,n.jsx)("option",{value:"prospect",children:"Interessent"}),(0,n.jsx)("option",{value:"customer",children:"Kunde"}),(0,n.jsx)("option",{value:"inactive",children:"Inaktiv"})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(m._,{className:"flex items-center",children:[(0,n.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Priorit\xe4t"]}),(0,n.jsxs)("select",{value:o.priority,onChange:e=>Z("priority",e.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,n.jsx)("option",{value:"low",children:"Niedrig"}),(0,n.jsx)("option",{value:"normal",children:"Normal"}),(0,n.jsx)("option",{value:"high",children:"Hoch"}),(0,n.jsx)("option",{value:"critical",children:"Kritisch"})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("h4",{className:"font-medium flex items-center",children:[(0,n.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Adresse"]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,n.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"street",children:"Stra\xdfe"}),(0,n.jsx)(c.I,{id:"street",value:o.street,onChange:e=>Z("street",e.target.value)})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"house_number",children:"Nr."}),(0,n.jsx)(c.I,{id:"house_number",value:o.house_number,onChange:e=>Z("house_number",e.target.value)})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"postal_code",children:"PLZ"}),(0,n.jsx)(c.I,{id:"postal_code",value:o.postal_code,onChange:e=>Z("postal_code",e.target.value)})]}),(0,n.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,n.jsx)(m._,{htmlFor:"city",children:"Ort"}),(0,n.jsx)(c.I,{id:"city",value:o.city,onChange:e=>Z("city",e.target.value)})]})]})]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(m._,{htmlFor:"notes",className:"flex items-center",children:[(0,n.jsx)(j,{className:"h-4 w-4 mr-2"}),"Notizen"]}),(0,n.jsx)("textarea",{id:"notes",value:o.notes,onChange:e=>Z("notes",e.target.value),rows:3,placeholder:"Zus\xe4tzliche Informationen \xfcber den Kunden...",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,n.jsx)(i.z,{type:"button",variant:"outline",onClick:s,children:"Abbrechen"}),(0,n.jsx)(i.z,{type:"submit",disabled:b,children:b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Speichern..."]}):r?"Aktualisieren":"Erstellen"})]})]})})]})})}var N=t(2735),w=t(9397),_=t(3247),k=t(1723),Z=t(4630),C=t(7684);function z(){let[e,s]=(0,a.useState)([]),[t,m]=(0,a.useState)([]),[f,y]=(0,a.useState)(!0),[j,z]=(0,a.useState)(""),[K,S]=(0,a.useState)([]),[F,I]=(0,a.useState)(!1);(0,a.useEffect)(()=>{L()},[]),(0,a.useEffect)(()=>{E()},[e,j]);let L=async()=>{try{y(!0);let{data:e,error:t}=await (0,u.OL)();t?(console.error("Error loading customers:",t),s([])):s(e||[])}catch(e){console.error("Error loading customers:",e),s([])}finally{y(!1)}},E=()=>{let s=e;j&&(s=s.filter(e=>{let s=e.first_name||"",t=e.last_name||"",n=e.email||"",r=e.company_name||"",a=e.customer_number||"";return s.toLowerCase().includes(j.toLowerCase())||t.toLowerCase().includes(j.toLowerCase())||n.toLowerCase().includes(j.toLowerCase())||r.toLowerCase().includes(j.toLowerCase())||a.toLowerCase().includes(j.toLowerCase())})),m(s)},D=e=>{S(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},M=e=>{if("company"===e.customer_type&&e.company_name)return e.company_name.slice(0,2).toUpperCase();let s=e.first_name||"",t=e.last_name||"";return s&&t?"".concat(s.charAt(0)).concat(t.charAt(0)).toUpperCase():s?s.substring(0,2).toUpperCase():e.email?e.email.substring(0,2).toUpperCase():"U"},q=e=>{var s;if("company"===e.customer_type&&e.company_name)return e.company_name;let t=e.first_name||"",n=e.last_name||"";return t&&n?"".concat(t," ").concat(n):t||n||(null===(s=e.email)||void 0===s?void 0:s.split("@")[0])||"Unbekannt"},A=e=>"company"===e.customer_type?e.industry||"Unternehmen":e.salutation||"Person",P=e=>{switch(e){case"customer":return"bg-green-100 text-green-800";case"prospect":return"bg-blue-100 text-blue-800";case"lead":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},U=e=>{switch(e){case"critical":return"text-red-600";case"high":return"text-orange-600";case"normal":return"text-blue-600";default:return"text-gray-600"}};return f?(0,n.jsx)(r.Z,{children:(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,n.jsx)("p",{className:"mt-2 text-gray-600",children:"Lade Kunden..."})]})})}):(0,n.jsx)(r.Z,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Kundenmanagement"}),(0,n.jsxs)("p",{className:"text-gray-600 mt-1",children:["Verwalten Sie Ihre Kundendaten und -beziehungen (",t.length," Kunden)"]})]}),(0,n.jsxs)("div",{className:"flex space-x-3",children:[(0,n.jsxs)(i.z,{variant:"outline",size:"sm",children:[(0,n.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,n.jsxs)(i.z,{onClick:()=>I(!0),children:[(0,n.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Neuer Kunde"]})]})]}),(0,n.jsx)(l.Zb,{children:(0,n.jsx)(l.aY,{className:"pt-6",children:(0,n.jsx)("div",{className:"flex flex-col md:flex-row gap-4",children:(0,n.jsxs)("div",{className:"flex-1 relative",children:[(0,n.jsx)(_.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,n.jsx)(c.I,{placeholder:"Kunden durchsuchen...",value:j,onChange:e=>z(e.target.value),className:"pl-10"})]})})})}),(0,n.jsxs)(l.Zb,{children:[(0,n.jsx)(l.Ol,{children:(0,n.jsxs)(l.ll,{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Alle Kunden"}),(0,n.jsx)("span",{className:"text-sm font-normal text-gray-500",children:K.length>0&&"".concat(K.length," ausgew\xe4hlt")})]})}),(0,n.jsx)(l.aY,{children:0===t.length?(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)(h.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Kunden gefunden"}),(0,n.jsx)("p",{className:"text-gray-500 mb-4",children:0===e.length?"Noch keine Kunden vorhanden. Importieren Sie Daten oder erstellen Sie neue Kunden.":"Keine Kunden entsprechen Ihren Suchkriterien."}),(0,n.jsxs)(i.z,{onClick:()=>I(!0),children:[(0,n.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Ersten Kunden erstellen"]})]}):(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b",children:[(0,n.jsx)("th",{className:"text-left py-3 px-4",children:(0,n.jsx)("input",{type:"checkbox",checked:K.length===t.length,onChange:()=>{K.length===t.length?S([]):S(t.map(e=>e.id))},className:"rounded"})}),(0,n.jsx)("th",{className:"text-left py-3 px-4",children:"Kunde"}),(0,n.jsx)("th",{className:"text-left py-3 px-4",children:"Typ"}),(0,n.jsx)("th",{className:"text-left py-3 px-4",children:"Status"}),(0,n.jsx)("th",{className:"text-left py-3 px-4",children:"Priorit\xe4t"}),(0,n.jsx)("th",{className:"text-left py-3 px-4",children:"Telefon"}),(0,n.jsx)("th",{className:"text-left py-3 px-4",children:"Letzte Aktivit\xe4t"}),(0,n.jsx)("th",{className:"text-left py-3 px-4",children:"Aktionen"})]})}),(0,n.jsx)("tbody",{children:t.map(e=>(0,n.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("input",{type:"checkbox",checked:K.includes(e.id),onChange:()=>D(e.id),className:"rounded"})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(o.qE,{children:(0,n.jsx)(o.Q5,{children:M(e)})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"font-medium text-gray-900 flex items-center",children:["company"===e.customer_type?(0,n.jsx)(x.Z,{className:"h-4 w-4 mr-1 text-gray-500"}):(0,n.jsx)(h.Z,{className:"h-4 w-4 mr-1 text-gray-500"}),q(e)]}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:e.email||e.customer_number}),(0,n.jsx)("div",{className:"text-xs text-gray-400",children:A(e)})]})]})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)(d.C,{variant:"outline",className:"capitalize",children:"company"===e.customer_type?"Unternehmen":"Person"})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)(d.C,{className:P(e.customer_status),children:e.customer_status})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsxs)("div",{className:"flex items-center ".concat(U(e.priority)),children:["critical"===e.priority&&(0,n.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),(0,n.jsx)("span",{className:"capitalize text-sm",children:e.priority})]})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("div",{className:"text-sm text-gray-900",children:e.phone||e.mobile||"-"})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsx)("div",{className:"text-sm text-gray-900 flex items-center",children:e.last_activity_date?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.Z,{className:"h-3 w-3 mr-1 text-gray-400"}),new Date(e.last_activity_date).toLocaleDateString("de-DE")]}):"-"})}),(0,n.jsx)("td",{className:"py-3 px-4",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(i.z,{variant:"ghost",size:"sm",children:(0,n.jsx)(p.Z,{className:"h-4 w-4"})}),e.phone&&(0,n.jsx)(i.z,{variant:"ghost",size:"sm",children:(0,n.jsx)(g.Z,{className:"h-4 w-4"})}),(0,n.jsx)(i.z,{variant:"ghost",size:"sm",children:(0,n.jsx)(Z.Z,{className:"h-4 w-4"})}),(0,n.jsx)(i.z,{variant:"ghost",size:"sm",children:(0,n.jsx)(C.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})})]}),F&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,n.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,n.jsx)(b,{onSuccess:()=>{I(!1),L()},onClose:()=>I(!1)})})})]})})}},6246:function(e,s,t){"use strict";t.d(s,{Q5:function(){return c},qE:function(){return i}});var n=t(7437),r=t(2265),a=t(1146),l=t(3448);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)(a.fC,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});i.displayName=a.fC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)(a.Ee,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",t),...r})}).displayName=a.Ee.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)(a.NY,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});c.displayName=a.NY.displayName},2381:function(e,s,t){"use strict";t.d(s,{z:function(){return o}});var n=t(7437),r=t(2265),a=t(7053),l=t(535),i=t(3448);let c=(0,l.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:o=!1,...d}=e,u=o?a.g7:"button";return(0,n.jsx)(u,{className:(0,i.cn)(c({variant:r,size:l,className:t})),ref:s,...d})});o.displayName="Button"},279:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var n=t(7437),r=t(2265),a=t(3448);let l=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,n.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},5060:function(e,s,t){"use strict";t.d(s,{_:function(){return o}});var n=t(7437),r=t(2265),a=t(6394),l=t(535),i=t(3448);let c=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,n.jsx)(a.f,{ref:s,className:(0,i.cn)(c(),t),...r})});o.displayName=a.f.displayName},6394:function(e,s,t){"use strict";t.d(s,{f:function(){return i}});var n=t(2265),r=t(6840),a=t(7437),l=n.forwardRef((e,s)=>(0,a.jsx)(r.WV.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var i=l}},function(e){e.O(0,[9735,7583,6201,7182,6375,2971,2117,1744],function(){return e(e.s=6831)}),_N_E=e.O()}]);