(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[171],{6869:function(e,s,t){Promise.resolve().then(t.bind(t,4547))},4547:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var l=t(7437),n=t(4415),a=t(9820),r=t(9174),c=t(2265),d=t(5526),i=t(5805),x=t(5252),o=t(8896),m=t(525),h=t(6221);function u(){let[e,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!0);(0,c.useEffect)(()=>{j()},[]);let j=async()=>{try{u(!0);let{data:e,error:t}=await (0,d.Eb)();t?(console.error("Error loading analytics data:",t),s(null)):s(e)}catch(e){console.error("Error loading analytics data:",e),s(null)}finally{u(!1)}};return t?(0,l.jsx)(n.Z,{children:(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Statistiken"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:"Lade Daten..."})]})})}):e?(0,l.jsx)(n.Z,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Statistiken"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:"Umfassende Analyse Ihrer CRM-Performance"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsxs)(a.Zb,{children:[(0,l.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(a.ll,{className:"text-sm font-medium",children:"Gesamt Kunden"}),(0,l.jsx)(i.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(a.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:e.totalCustomers.toLocaleString()}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,l.jsxs)("span",{className:"text-green-600",children:["+",e.customerGrowthRate,"%"]})," diesen Monat"]})]})]}),(0,l.jsxs)(a.Zb,{children:[(0,l.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(a.ll,{className:"text-sm font-medium",children:"Aktive Kunden"}),(0,l.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(a.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:e.activeCustomers.toLocaleString()}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:e.totalCustomers>0?"".concat(Math.round(e.activeCustomers/e.totalCustomers*100),"% Conversion Rate"):"Keine Kunden"})]})]}),(0,l.jsxs)(a.Zb,{children:[(0,l.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(a.ll,{className:"text-sm font-medium",children:"Neue Leads"}),(0,l.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(a.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:e.leadsCount.toLocaleString()}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.prospectsCount," Prospects"]})]})]}),(0,l.jsxs)(a.Zb,{children:[(0,l.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(a.ll,{className:"text-sm font-medium",children:"Wachstum"}),(0,l.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(a.aY,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:e.newCustomersThisMonth}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Neue Kunden diesen Monat"})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(a.Zb,{children:[(0,l.jsxs)(a.Ol,{children:[(0,l.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(h.Z,{className:"h-5 w-5"}),"Kunden Status Verteilung"]}),(0,l.jsx)(a.SZ,{children:"Aufschl\xfcsselung nach Kundenstatus"})]}),(0,l.jsx)(a.aY,{className:"space-y-4",children:Object.entries(e.customersByStatus).map(s=>{let[t,n]=s;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-sm capitalize",children:t}),(0,l.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[n," Kunden"]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.totalCustomers>0?"".concat(Math.round(n/e.totalCustomers*100),"% aller Kunden"):"0%"})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsxs)(r.C,{variant:"customer"===t?"default":"secondary",children:[Math.round(n/e.totalCustomers*100),"%"]})})]},t)})})]}),(0,l.jsxs)(a.Zb,{children:[(0,l.jsxs)(a.Ol,{children:[(0,l.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(i.Z,{className:"h-5 w-5"}),"Kunden Typ Verteilung"]}),(0,l.jsx)(a.SZ,{children:"Personen vs. Unternehmen"})]}),(0,l.jsxs)(a.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-sm",children:"Personen"}),(0,l.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[e.customersByType.person," Kunden"]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.totalCustomers>0?"".concat(Math.round(e.customersByType.person/e.totalCustomers*100),"% aller Kunden"):"0%"})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsxs)(r.C,{variant:"outline",children:[e.totalCustomers>0?Math.round(e.customersByType.person/e.totalCustomers*100):0,"%"]})})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-sm",children:"Unternehmen"}),(0,l.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[e.customersByType.company," Kunden"]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.totalCustomers>0?"".concat(Math.round(e.customersByType.company/e.totalCustomers*100),"% aller Kunden"):"0%"})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsxs)(r.C,{variant:"outline",children:[e.totalCustomers>0?Math.round(e.customersByType.company/e.totalCustomers*100):0,"%"]})})]})]})]})]}),e.topIndustries.length>0&&(0,l.jsxs)(a.Zb,{children:[(0,l.jsxs)(a.Ol,{children:[(0,l.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5"}),"Top Branchen"]}),(0,l.jsx)(a.SZ,{children:"Die h\xe4ufigsten Branchen Ihrer Unternehmenskunden"})]}),(0,l.jsx)(a.aY,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.topIndustries.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium text-sm",children:e.industry}),(0,l.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:[e.count," Unternehmen"]})]}),(0,l.jsxs)(r.C,{variant:"outline",children:["#",s+1]})]},s))})})]})]})}):(0,l.jsx)(n.Z,{children:(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics & Statistiken"}),(0,l.jsx)("p",{className:"text-gray-600 mt-1",children:"Fehler beim Laden der Daten"})]})})})}}},function(e){e.O(0,[1216,7182,4415,1744],function(){return e(e.s=6869)}),_N_E=e.O()}]);