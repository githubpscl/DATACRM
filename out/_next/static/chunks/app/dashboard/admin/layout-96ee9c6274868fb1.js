(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9622],{2593:function(e,n,r){Promise.resolve().then(r.bind(r,4524))},4524:function(e,n,r){"use strict";r.d(n,{default:function(){return t}});var s=r(7437),u=r(7182),i=r(9376),c=r(2265),a=r(5526);function t(e){let{children:n}=e,{user:r,loading:t}=(0,u.a)(),o=(0,i.useRouter)(),[d,l]=(0,c.useState)(!1),[f,h]=(0,c.useState)(!0);return((0,c.useEffect)(()=>{(async()=>{if(!t){if(!r){o.push("/login");return}try{if(console.log("SuperAdminGuard: Checking access for",r.email),!await (0,a.isSuperAdmin)(r.email)){console.log("SuperAdminGuard: Access denied, redirecting to dashboard"),o.push("/dashboard");return}console.log("SuperAdminGuard: Access granted"),l(!0)}catch(e){console.error("SuperAdminGuard: Error checking access:",e),o.push("/dashboard")}finally{h(!1)}}})()},[r,t,o]),t||f)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):d?(0,s.jsx)(s.Fragment,{children:n}):null}}},function(e){e.O(0,[1216,7182,1744],function(){return e(e.s=2593)}),_N_E=e.O()}]);